(this.webpackJsonpneko=this.webpackJsonpneko||[]).push([[0],{56:function(e,t,a){},57:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),s=a.n(r),i=(a(56),a(11)),o=a(12),d=a(14),l=a(13),p=(a(57),a(33)),u=a.n(p),b=a(48),j=a(29),h=a(23),O=a(19),f=a(26),g=a(2),v=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(f.a,{children:Object(g.jsxs)(f.a.Group,{controlId:"breedSelection",children:[Object(g.jsx)(f.a.Label,{children:"Breed"}),Object(g.jsxs)(f.a.Control,{as:"select",custom:!0,onChange:this.props.wasChanged,value:this.props.selectedBreed,disabled:0===this.props.breeds.length,children:[Object(g.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select breed"}),this.props.breeds.map((function(e){return Object(g.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})})}}]),a}(n.Component),m=a(16),x=a(20),y=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(O.a,{md:{span:3},sm:{span:6},children:Object(g.jsxs)(m.a,{className:"mb-3",children:[Object(g.jsx)(m.a.Img,{variant:"top",src:this.props.catDetails.url}),Object(g.jsx)(m.a.Body,{children:Object(g.jsx)(x.b,{to:"/neko/"+this.props.catDetails.id,className:"btn btn-primary btn-block",children:"View details"})})]})})}}]),a}(n.Component),C=a(51),E=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(h.a,{children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(C.a,{variant:"success",disabled:this.props.isLoading||this.props.isDisabled,onClick:this.props.wasClicked,className:"mt-3",children:this.props.isLoading?"Loading cats\u2026":"Load more"})," "]})})}}]),a}(n.Component),B="FETCH_BREEDS_REQUEST",k="FETCH_BREEDS_SUCCESS",D="FETCH_BREEDS_FAILURE",S="SELECT_BREED",L=a(21),T=a.n(L),_=function(){return function(e){e({type:B});T.a.get("https://api.thecatapi.com/v1/breeds",{headers:{"x-api-key":"7f71f6d0-a15d-4a20-8f31-87a88937caef"}}).then((function(t){var a;e((a=t.data,{type:k,payload:a}))})).catch((function(t){e(function(e){return{type:D,payload:e}}(t.message))}))}},F="FETCH_CATS_REQUEST",N="FETCH_CATS_SUCCESS",w="FETCH_CATS_FAILURE",A="INCREMENT_PAGINATION_PAGE",I="SELECTED_BREED_CHANGE",P=function(e,t){return function(a){var n={headers:{"x-api-key":"7f71f6d0-a15d-4a20-8f31-87a88937caef"},params:{breed_id:e,order:"asc",limit:5,page:t}};T.a.get("https://api.thecatapi.com/v1/images/search",n).then((function(e){var t;a((t=e.data,{type:N,payload:t})),a({type:A})})).catch((function(e){a(function(e){return{type:w,payload:e}}(e.message))}))}},M=a(22),R=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onSelectBreed=function(){var t=Object(b.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,t.next=3,e.props.selectBreed(n);case 3:return t.next=5,e.props.selectedBreedChange();case 5:e.props.fetchCats(e.props.selectedBreed,e.props.paginationPage);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)(j.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(O.a,{children:Object(g.jsx)("h1",{className:"mt-3",children:"Cat Browser"})})}),Object(g.jsx)(h.a,{children:Object(g.jsx)(O.a,{md:{span:3},sm:{span:6},children:Object(g.jsx)(v,{wasChanged:this.onSelectBreed,selectedBreed:this.props.selectedBreed,breeds:this.props.breeds})})}),Object(g.jsx)(h.a,{children:this.props.cats.length>0?this.props.cats.map((function(e){return Object(g.jsx)(y,{catDetails:e},e.id)})):Object(g.jsx)(O.a,{children:"No cats available"})}),this.props.canLoadMore?Object(g.jsx)(E,{isLoading:this.props.loading,isDisabled:0===this.props.cats.length,wasClicked:function(){return e.props.fetchCats(e.props.selectedBreed,e.props.paginationPage)}}):null]})}},{key:"componentDidMount",value:function(){this.props.fetchBreeds()}}]),a}(n.Component),H=Object(M.b)((function(e){return{loading:e.breed.loading||e.cat.loading,breeds:e.breed.breeds,cats:e.cat.cats,breedError:e.breed.error,catError:e.cat.error,selectedBreed:e.breed.selectedBreed,paginationPage:e.cat.paginationPage,canLoadMore:e.cat.canLoadMore}}),(function(e){return{selectBreed:function(t){return e(function(e){return{type:S,payload:e}}(t))},selectedBreedChange:function(){return e({type:I})},fetchBreeds:function(){return e(_())},fetchCats:function(t,a){return e(P(t,a))}}}))(R),U=(a(84),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n,c,r,s,i,o,d,l;return Object(g.jsx)(j.a,{children:null!=(null===(e=this.state)||void 0===e?void 0:e.catDetails)?Object(g.jsxs)(m.a,{className:"mt-3 mb-3",children:[Object(g.jsx)(m.a.Header,{children:Object(g.jsx)(x.b,{to:"/neko",className:"btn btn-primary",children:"Back"})}),Object(g.jsx)(m.a.Img,{variant:"top",src:null===(t=this.state)||void 0===t||null===(a=t.catDetails)||void 0===a?void 0:a.url}),Object(g.jsxs)(m.a.Body,{children:[Object(g.jsx)(m.a.Title,{children:null===(n=this.state)||void 0===n||null===(c=n.catDetails)||void 0===c?void 0:c.breeds[0].name}),Object(g.jsxs)("h6",{children:["Origin: ",null===(r=this.state)||void 0===r||null===(s=r.catDetails)||void 0===s?void 0:s.breeds[0].origin]}),Object(g.jsx)("h6",{children:null===(i=this.state)||void 0===i||null===(o=i.catDetails)||void 0===o?void 0:o.breeds[0].temperament}),Object(g.jsx)(m.a.Text,{children:null===(d=this.state)||void 0===d||null===(l=d.catDetails)||void 0===l?void 0:l.breeds[0].description})]})]}):Object(g.jsx)("h3",{className:"center-fixed",children:"Loading..."})})}},{key:"fetchCatImage",value:function(){var e=this,t=this.props.match.params.id,a={headers:{"x-api-key":"7f71f6d0-a15d-4a20-8f31-87a88937caef"},params:{image_id:t}};T.a.get("https://api.thecatapi.com/v1/images/"+t,a).then((function(t){e.setState({catDetails:t.data})})).catch((function(e){console.log(e.message)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.cats.find((function(t){return t.id===e.props.match.params.id}));null==t?this.fetchCatImage():this.setState({catDetails:t})}}]),a}(n.Component)),G=Object(M.b)((function(e){return{cats:e.cat.cats}}))(U),J=a(7),Q=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(J.c,{children:[Object(g.jsx)(J.a,{exact:!0,path:"/neko",component:H}),Object(g.jsx)(J.a,{path:"/neko/:id",component:G})]})})})}}]),a}(n.Component),V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,86)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},q=a(24),z=a(50),K=a(6),W={loading:!1,breeds:[],error:"",selectedBreed:"DEFAULT"},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(K.a)(Object(K.a)({},e),{},{loading:!0});case k:return Object(K.a)(Object(K.a)({},e),{},{loading:!1,breeds:t.payload,error:""});case D:return Object(K.a)(Object(K.a)({},e),{},{loading:!1,breeds:[],error:t.payload});case S:return Object(K.a)(Object(K.a)({},e),{},{selectedBreed:t.payload});default:return Object(K.a)({},e)}},Y=a(37),Z={loading:!1,cats:[],error:"",paginationPage:1,canLoadMore:!0},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(K.a)(Object(K.a)({},e),{},{loading:!0});case N:return Object(K.a)(Object(K.a)({},e),{},{loading:!1,cats:[].concat(Object(Y.a)(e.cats),Object(Y.a)(t.payload)),error:"",canLoadMore:t.payload.length>0});case w:return Object(K.a)(Object(K.a)({},e),{},{loading:!1,cats:[],error:t.payload});case A:return Object(K.a)(Object(K.a)({},e),{},{paginationPage:e.paginationPage+1});case I:return Object(K.a)(Object(K.a)({},e),{},{cats:[],paginationPage:1,canLoadMore:!0});default:return Object(K.a)({},e)}},ee=Object(q.d)(Object(q.c)({breed:X,cat:$}),Object(q.a)(z.a));s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(M.a,{store:ee,children:Object(g.jsx)(Q,{})})}),document.getElementById("root")),V()}},[[85,1,2]]]);
//# sourceMappingURL=main.5a93394b.chunk.js.map