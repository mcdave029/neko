(this.webpackJsonpneko=this.webpackJsonpneko||[]).push([[0],{60:function(e,t,a){},61:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),i=(a(60),a(13)),o=a(14),d=a(16),l=a(15),u=(a(61),a(37)),p=a.n(u),j=a(52),b=a(30),h=a(22),O=a(18),f=a(28),g=a(3),v=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(f.a,{children:Object(g.jsxs)(f.a.Group,{controlId:"breedSelection",children:[Object(g.jsx)(f.a.Label,{children:"Breed"}),Object(g.jsxs)(f.a.Control,{as:"select",custom:!0,onChange:this.props.wasChanged,value:this.props.selectedBreed,disabled:0===this.props.breeds.length,children:[Object(g.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select breed"}),this.props.breeds.map((function(e){return Object(g.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})})}}]),a}(n.Component),m=a(19),x=a(21),y=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(O.a,{md:{span:3},sm:{span:6},children:Object(g.jsxs)(m.a,{className:"mb-3",children:[Object(g.jsx)(m.a.Img,{variant:"top",src:this.props.catDetails.url}),Object(g.jsx)(m.a.Body,{children:Object(g.jsx)(x.b,{to:"/neko/"+this.props.catDetails.id,className:"btn btn-primary btn-block",children:"View details"})})]})})}}]),a}(n.Component),E=a(53),C=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(h.a,{children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(E.a,{variant:"success",disabled:this.props.isLoading||this.props.isDisabled,onClick:this.props.wasClicked,className:"mt-3",children:this.props.isLoading?"Loading cats\u2026":"Load more"})," "]})})}}]),a}(n.Component),B="FETCH_BREEDS_REQUEST",k="FETCH_BREEDS_SUCCESS",S="FETCH_BREEDS_FAILURE",D="SELECT_BREED",L=a(23),T=a.n(L),_=function(e){return{type:S,payload:e}},w=function(){return function(e){e({type:B});T.a.get("https://api.thecatapi.com/v1/breeds",{headers:{"x-api-key":"7f71f6d0-a15d-4a20-8f31-87a88937caef"}}).then((function(t){var a;e((a=t.data,{type:k,payload:a}))})).catch((function(t){e(_(t.message))}))}},N="FETCH_CATS_REQUEST",A="FETCH_CATS_SUCCESS",F="FETCH_CATS_FAILURE",I="INCREMENT_PAGINATION_PAGE",M="SELECTED_BREED_CHANGE",P=function(e){return{type:F,payload:e}},R=function(e,t){return function(a){var n={headers:{"x-api-key":"7f71f6d0-a15d-4a20-8f31-87a88937caef"},params:{breed_id:e,order:"asc",limit:5,page:t}};T.a.get("https://api.thecatapi.com/v1/images/search",n).then((function(e){var t;a((t=e.data,{type:A,payload:t})),a({type:I})})).catch((function(e){a(P(e.message))}))}},H=a(24),U=a(31),G=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSelectBreed=function(){var t=Object(j.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,t.next=3,e.props.selectBreed(n);case 3:return t.next=5,e.props.selectedBreedChange();case 5:e.props.fetchCats(e.props.selectedBreed,e.props.paginationPage);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)(b.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(O.a,{children:Object(g.jsx)("h1",{className:"mt-3",children:"Cat Browser"})})}),Object(g.jsx)(h.a,{children:Object(g.jsx)(O.a,{md:{span:3},sm:{span:6},children:Object(g.jsx)(v,{wasChanged:this.onSelectBreed,selectedBreed:this.props.selectedBreed,breeds:this.props.breeds})})}),this.props.hasError&&Object(g.jsx)(h.a,{children:Object(g.jsx)(O.a,{children:Object(g.jsx)(U.a,{variant:"danger",onClose:function(){return e.props.clearError()},dismissible:!0,children:"Apologies but we could not load new cats for you at this time! Miau!"})})}),Object(g.jsx)(h.a,{children:this.props.cats.length>0?this.props.cats.map((function(e){return Object(g.jsx)(y,{catDetails:e},e.id)})):Object(g.jsx)(O.a,{children:"No cats available"})}),this.props.canLoadMore?Object(g.jsx)(C,{isLoading:this.props.loading,isDisabled:0===this.props.cats.length,wasClicked:function(){return e.props.fetchCats(e.props.selectedBreed,e.props.paginationPage)}}):null]})}},{key:"componentDidMount",value:function(){this.props.fetchBreeds()}}]),a}(n.Component),J=Object(H.b)((function(e){return{loading:e.breed.loading||e.cat.loading,breeds:e.breed.breeds,cats:e.cat.cats,hasError:0!==e.breed.error.length||0!==e.cat.error.length,selectedBreed:e.breed.selectedBreed,paginationPage:e.cat.paginationPage,canLoadMore:e.cat.canLoadMore}}),(function(e){return{selectBreed:function(t){return e(function(e){return{type:D,payload:e}}(t))},selectedBreedChange:function(){return e({type:M})},fetchBreeds:function(){return e(w())},fetchCats:function(t,a){return e(R(t,a))},clearError:function(){return e((function(e){e(_("")),e(P(""))}))}}}))(G),Q=(a(88),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a,n,r,c,s,i,o,d,l,u=this;return Object(g.jsxs)(b.a,{children:[null!=(null===(e=this.state)||void 0===e?void 0:e.catDetails)?Object(g.jsxs)(m.a,{className:"mt-3 mb-3",children:[Object(g.jsx)(m.a.Header,{children:Object(g.jsx)(x.b,{to:"/neko",className:"btn btn-primary",children:"Back"})}),Object(g.jsx)(m.a.Img,{variant:"top",src:null===(t=this.state)||void 0===t||null===(a=t.catDetails)||void 0===a?void 0:a.url}),Object(g.jsxs)(m.a.Body,{children:[Object(g.jsx)(m.a.Title,{children:null===(n=this.state)||void 0===n||null===(r=n.catDetails)||void 0===r?void 0:r.breeds[0].name}),Object(g.jsxs)("h6",{children:["Origin: ",null===(c=this.state)||void 0===c||null===(s=c.catDetails)||void 0===s?void 0:s.breeds[0].origin]}),Object(g.jsx)("h6",{children:null===(i=this.state)||void 0===i||null===(o=i.catDetails)||void 0===o?void 0:o.breeds[0].temperament}),Object(g.jsx)(m.a.Text,{children:null===(d=this.state)||void 0===d||null===(l=d.catDetails)||void 0===l?void 0:l.breeds[0].description})]})]}):Object(g.jsx)("h3",{className:"center-fixed",children:"Loading..."}),this.state.hasError&&Object(g.jsxs)(U.a,{variant:"danger",className:"mt-3",onClose:function(){return u.setState({hasError:!1})},dismissible:!0,children:["Apologies but we could not load new cats for you at this time! Miau!",Object(g.jsx)("hr",{}),Object(g.jsx)("div",{className:"d-flex justify-content-end",children:Object(g.jsx)(x.b,{to:"/neko",className:"btn btn-outline-danger",children:"Back"})})]})]})}},{key:"fetchCatImage",value:function(){var e=this,t=this.props.match.params.id,a={headers:{"x-api-key":"7f71f6d0-a15d-4a20-8f31-87a88937caef"},params:{image_id:t}};T.a.get("https://api.thecatapi.com/v1/images/"+t,a).then((function(t){e.setState({catDetails:t.data})})).catch((function(t){e.setState({hasError:!0})}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.cats.find((function(t){return t.id===e.props.match.params.id}));null==t?this.fetchCatImage():this.setState({catDetails:t})}}]),a}(n.Component)),V=Object(H.b)((function(e){return{cats:e.cat.cats}}))(Q),q=a(7),z=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(q.c,{children:[Object(g.jsx)(q.a,{exact:!0,path:"/neko",component:J}),Object(g.jsx)(q.a,{path:"/neko/:id",component:V})]})})})}}]),a}(n.Component),K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},W=a(25),X=a(55),Y=a(6),Z={loading:!1,breeds:[],error:"",selectedBreed:"DEFAULT"},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!0});case k:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,breeds:t.payload,error:""});case S:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,breeds:[],error:t.payload});case D:return Object(Y.a)(Object(Y.a)({},e),{},{selectedBreed:t.payload});default:return Object(Y.a)({},e)}},ee=a(41),te={loading:!1,cats:[],error:"",paginationPage:1,canLoadMore:!0},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!0});case A:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,cats:[].concat(Object(ee.a)(e.cats),Object(ee.a)(t.payload)),error:"",canLoadMore:t.payload.length>0});case F:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,cats:[],error:t.payload});case I:return Object(Y.a)(Object(Y.a)({},e),{},{paginationPage:e.paginationPage+1});case M:return Object(Y.a)(Object(Y.a)({},e),{},{cats:[],paginationPage:1,canLoadMore:!0});default:return Object(Y.a)({},e)}},ne=Object(W.d)(Object(W.c)({breed:$,cat:ae}),Object(W.a)(X.a));s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(H.a,{store:ne,children:Object(g.jsx)(z,{})})}),document.getElementById("root")),K()}},[[89,1,2]]]);
//# sourceMappingURL=main.c36725e5.chunk.js.map